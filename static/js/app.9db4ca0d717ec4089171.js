webpackJsonp([1],{0:function(t,e){},"28fQ":function(t,e){},"4qOc":function(t,e){},"5g3L":function(t,e){},"5gPk":function(t,e){},"7Ikz":function(t,e){},"8XEe":function(t,e){},"9Gal":function(t,e){},"9Wcg":function(t,e){},AmOA:function(t,e){},DPn5:function(t,e){},L3yD:function(t,e){},L9kT:function(t,e){},LTQq:function(t,e){},LzTc:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};i.d(a,"active_index",function(){return ue}),i.d(a,"entity",function(){return pe}),i.d(a,"menuData",function(){return fe}),i.d(a,"wxwindow",function(){return me}),i.d(a,"sheet",function(){return ve}),i.d(a,"xs",function(){return ge});var s=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!this.isRouterAlive}}},n,!1,function(t){i("8XEe")},null,null).exports,l=i("/ocq"),r=i("Xxa5"),d=i.n(r),c=i("exGp"),h=i.n(c),u=i("fZjL"),p=i.n(u),f=i("//Fk"),m=i.n(f),v=i("mvHQ"),g=i.n(v),b=i("pFYg"),_=i.n(b),y=i("Dd8w"),w=i.n(y),T=i("yPE/"),k=i.n(T),E=(i("4qOc"),"ws://192.168.31.9:5018/edit"),D=i("lbHh"),F=i.n(D),S="Admin-Token";function C(){return F.a.get(S)}function $(t){var e=F.a.get(t);return e="string"==typeof e?JSON.parse(e):e}function I(t){return F.a.set(S,t)}function j(t,e){return F.a.set(t,e)}function V(t){return F.a.remove(t)}var A={props:["sheet_id","options","editor","user_id"],data:function(){return{quill:null,socket:null}},mounted:function(){var t=this.editor;2===t?this.options.readOnly=!0:void 0!==t&&(this.options.readOnly=!1);this.socket=new WebSocket(E+"/edit_qtxt_message");var e=this;this.socket.onopen=function(t){console.log("32: ",e.$route);var i=e.$route.path;e.sendMessage({ops:"",id:e.sheet_id,user_id:-1!=e.user_id?e.user_id:$("user").id,read:!0,url:i.replace(R,"")}),console.log("WebSocket opened!")};this.socket.onmessage=function(t){var i=JSON.parse(t.data);"{}"===g()(i.qtxt_details)?e.quill.setContents(i.qtxt_details):e.quill.setContents(JSON.parse(i.qtxt_details))},this.socket.onerror=function(t){console.log("Error: "+t.name+t.number)},this.socket.onclose=function(t){console.log("WebSocket closed!"+t.code+" "+t.reason+" "+t.wasClean)},this.initQuill()},methods:{initQuill:function(){var t=this,e=this.$el.querySelector(".editor");this.quill=new k.a(e,this.options);this.quill.on("text-change",function(){var e=t.quill.getContents(),i=t.$route.path;t.sendMessage({ops:g()(e,null,2),user_id:-1!=t.user_id?t.user_id:$("user").id,url:i.replace(R,""),id:t.sheet_id,read:!1})})},sendMessage:function(t){this.socket.send(g()(t))}}},N={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%"},attrs:{id:"quill_id"}},[e("div",{staticClass:"editor",staticStyle:{height:"100%"}})])}]};var M=i("VU/8")(A,N,!1,function(t){i("Ptiv")},"data-v-29ec1ffe",null).exports,R="/home",z=function(t,e){var i=e.path,a=e.id,n=(e.id2,e.name),o=e.editor;return{path:i,name:n,component:s.default.component("edit",{data:function(){return{id:a,id2:a,editor:o,style:{height:document.documentElement.clientHeight+"px"}}},methods:{loadCatalogueData:function(){t.loadCatalogueData()}},components:{Edit:K},template:' <Edit :sheet_id="id" :id2="id2" :editor="editor"  @loadCatalogueData="loadCatalogueData"/>  '})}},O={theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"由此输入 ..."},B=function(t,e){var i=e.path,a=e.id,n=e.name,o=e.editor,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return{path:i,name:n,component:s.default.component("edit",{data:function(){return{id:a,id2:a,options:l,editor:o,user_id:r,style:{height:document.documentElement.clientHeight+"px"}}},methods:{loadCatalogueData:function(){t.loadCatalogueData()}},components:{Quill:M},template:' <Quill :options="options" :user_id="user_id" :sheet_id="id" :editor="editor"   @loadCatalogueData="loadCatalogueData"/>  '})}},W=(i("Vm2w"),[{bgcolor:"#f4f5f8",textwrap:!0,color:"#900b09",font:{name:"Arial",size:10,bold:!0,italic:!1},border:{top:["thin","#0366d6"],bottom:["thin","#0366d6"],right:["thin","#0366d6"],left:["thin","#0366d6"]}},{font:{name:"Arial",size:10,bold:!0,italic:!1},bgcolor:"#5CACEE",align:"center"},{bgcolor:"#EBF3FD",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]},align:"left",font:{size:9,bold:!1,italic:!1}},{align:"left",bgcolor:"#F2F2F2",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]},font:{size:9,bold:!1,italic:!1}},{bgcolor:"#fff",align:"left",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]},font:{size:9,bold:!1,italic:!1}},{bgcolor:"#fff",align:"right",color:"blue",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]}},{bgcolor:"#F2F2F2",align:"right",color:"blue",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]}},{align:"left",format:"percent",bgcolor:"#F2F2F2",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]},font:{size:9,bold:!1,italic:!1}},{bgcolor:"#fff",align:"left",format:"percent",border:{top:["thin","#fff"],bottom:["thin","#fff"],right:["thin","#fff"],left:["thin","#fff"]},font:{size:9,bold:!1,italic:!1}}]),q={showFreeze:!0,formula:{wland:function(){}}},L=i("Zrlr"),U=i.n(L),P=i("wxAW"),H=i.n(P),J=function(){function t(e){U()(this,t),this.name=e,this.ri=0,this.ci=0,this.pos=0,this.inputText="",this.status=!1,this.alias=""}return H()(t,[{key:"setAlias",value:function(t){this.alias=t}},{key:"setProp",value:function(t,e,i,a,s){this.ri=t,this.ci=e,this.inputText=i,this.status=a,this.pos=s}},{key:"setText",value:function(t){this.inputText=t}}]),t}(),Y=i("NYxO");function X(t,e,i){var a=i.user_id,s=i.file_id;return t.post(e+"/openFileRecently",{user_id:a,file_id:s})}function G(t,e,i){var a=i._id;return t.post(e+"/edit_versions",{id:a})}var Z={props:["sheet_id","id2","editor"],data:function(){return{refresh:!1,my_timer:null,styles:"",data:"",options:{},trade_code:"",date:0,sh:null,mo_time:null,mo_time2:null,topId:"",socket:null,editing:0}},computed:w()({},Object(Y.b)(["sheet","xs"])),mounted:function(){var t=this;this.mo_time=setTimeout(function(){null!=t.sheet_id&&void 0!==t.sheet_id?t.reqTableData():t.$router.push({path:"/home"})},500)},created:function(){var t=this;this.mo_time2=setTimeout(function(){t.socket=new WebSocket(E+"/edit_message"),t.socket.onopen=function(t){console.log("WebSocket opened!")};var e=t;t.socket.onmessage=function(t){if(e.editing=e.editing-1,e.editing<=0){var i=JSON.parse(t.data);if("object"!==(void 0===i?"undefined":_()(i)))return;if("wland"==i.enter||"wfr"==i.enter||"city"==i.enter){var a={};"{}"==g()(i.sheet_styles)&&(a.styles=formula.styles),a.rows="string"==typeof i.sheet_details?JSON.parse(i.sheet_details):i.sheet_details,a.flex=i.neat_flex?i.neat_flex.neat_flex:{},e.xs.data.setData(a,e.xs.sheet,!0);var s=e.xs.sheet.getTable(),n=s.recalc,o=s.table;!1===n&&(o.proxy.diff=306,o.render())}}},t.socket.onerror=function(t){console.log("Error: "+t.name+t.number)},t.socket.onclose=function(t){console.log("WebSocket closed!"+t.code+" "+t.reason+" "+t.wasClean)}},500)},destroyed:function(){this.axiosArr=[],clearTimeout(this.mo_time),clearTimeout(this.mo_time2)},methods:w()({},Object(Y.c)({setSheet:"SET_SHEET",setXs:"SET_XS"}),{addUrlRelPath:function(t){return t.url_rel_path="/sec_page/600548",t},loadSheetData:function(){var t=this;this.date=Date.now();var e=this.$route.path;return new m.a(function(i,a){t.$axios.get(t.EDIT+"/edit_find",{params:{id:t.sheet_id,date:t.date,ref:!0,path:e.replace(R,""),user_id:$("user").id}}).then(function(t){i(t)})})},formula:function(t,e){return"string"==typeof t&&-1!=t.toUpperCase().indexOf(e.toUpperCase())},parseFormulaData:function(t){var e=this;p()(t).forEach(function(i){p()(t[i]).forEach(function(a){p()(t[i][a]).forEach(function(s){e.formula(t[i][a][s].text,"wland")})})})},diff:function(t,e){return g()(t)==g()(e)},loadNeatFlex:function(t){return t?t.neat_flex:{}},sheetMethods:function(){return{axios:this.$axios,user_id:$("user").id,sheet_id:this.sheet_id,getData:function(t,e,i,a,s){var n=this;return h()(d.a.mark(function o(){var l;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.post("http://192.168.31.9:5018/edit/edit_find_by_alias",{alias:e,user_id:i,name:a,sheet_id:s});case 2:return l=n.sent,n.abrupt("return",l);case 4:case"end":return n.stop()}},o,n)}))()}}},editMessage:function(t,e,i,a,s,n,o,l,r){var d=this.$route.path.replace(R,""),c={data:t,trade_code:e,user_id:$("user").id,path:d,styles:i,options:a,id:s,merges:n,pictures:o,autofilter:l,id2:r};this.editing=this.editing+1,this.socket.send(g()(c)),this.topId!==this.id2&&(this.$emit("loadCatalogueData"),this.topId=this.id2)},editFind:function(){},loadRowAndCol:function(t,e,i){return e&&(t.row={len:e.rows},t.rowWidth={state:!0,width:240},t.view={height:function(){return 3750}},t.col={len:e.col}),t.view={width:function(){return document.body.clientWidth-280-10-68}},"string"==typeof i&&(i=JSON.parse(i)),i.cols&&(t.cols=i.cols),i.row&&(t.row=i.row),t.showFreeze=!0,t},haveRevisions:function(){var t=this;console.log(this.$route);var e=this.$route.query;e.revision&&!0===e.revision&&setTimeout(function(){t.revisionOpen(e._id)},800)},revisionOpen:function(t){var e=this,i={_id:t};G(this.$axios,this.EDIT,i).then(function(t){if(t.data.state){if("error"===t.data.data)return;var a="string"==typeof t.data.data.sheet_details?JSON.parse(t.data.data.sheet_details):t.data.data.sheet_details,s="";s="string"==typeof t.data.data.sheet_styles&&JSON.parse(t.data.data.sheet_styles)?JSON.parse(t.data.data.sheet_styles):t.data.data.sheet_styles;var n=e.loadRowAndCol({},t.data.data.neat_flex,t.data.data.sheet_options);i={styles:s,rows:a,options:n,merges:t.data.data.sheet_merges,autofilter:t.data.data.sheet_auto_filter,pictures:t.data.data.sheet_pictures,flex:e.loadNeatFlex(t.data.data.neat_flex),cols:n&&n.cols||{}},e.xs.plugIn.openFrame(function(){return document.body.clientWidth-280-68},t.data.message,i,{axios:e.$axios,url:e.EDIT+"/edit_versions/find"},e)}else e.$message({message:t.data.message,type:"error",showClose:!0})})},reqTableData:function(){var t=this;this.loadSheetData().then(function(e){if(t.haveRevisions(),"error"!==e.data&&(t.sh=t.sheet&&!1!==t.sheet.status?"":new J(t.$route.path),t.sheet&&(console.log(t.$route),t.sheet.setAlias(t.$route.name)),e.data.date==t.date)){t.data="string"==typeof e.data.sheet_details?JSON.parse(e.data.sheet_details):e.data.sheet_details,"string"==typeof e.data.sheet_styles&&JSON.parse(e.data.sheet_styles)?t.styles=JSON.parse(e.data.sheet_styles):t.styles=e.data.sheet_styles,t.options.formula={id:t.sheet_id,axios:t.$axios,data:t.data,diff:t.diff,timer:null,timer2:null,styles:W,wland:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a&&(clearTimeout(t.timer),clearTimeout(t.timer2),t.timer=setTimeout(function(){t.axios.post("http://180.169.75.199:5004/edit/edit_find",{id:t.id,date:Date.now()+parseInt(9999*Math.random()),recalc:a}).then(function(s){if("wland"==s.data.enter||"wfr"==s.data.enter||"city"==s.data.enter){var n={};"{}"==g()(s.data.sheet_styles)&&(n.styles=t.styles),n.rows="string"==typeof s.data.sheet_details?JSON.parse(s.data.sheet_details):s.data.sheet_details,n.flex=s.data.neat_flex?s.data.neat_flex.neat_flex:{},e.setData(n),!1===a&&(i.proxy.diff=306,i.render())}a&&(i.proxy.diff=306,i.render())})},500))}},t.options=t.loadRowAndCol(t.options,e.data.neat_flex,e.data.sheet_options);var i=document.getElementById("x-spreadsheet-demo"),a=document.getElementsByClassName("x-spreadsheet")[0];void 0!==i&&void 0!==a&&(t.xs.removeEvent(),i.removeChild(a));var s=x.spreadsheet("#x-spreadsheet-demo",t.options,t.sheetMethods,t.$route.name);t.setXs(s),t.xs.loadData({styles:t.styles,rows:t.data,merges:e.data.sheet_merges,autofilter:e.data.sheet_auto_filter,pictures:e.data.sheet_pictures,flex:t.loadNeatFlex(e.data.neat_flex),refRow:e.data.sheet_refRow,cols:t.options&&t.options.cols||{}}).change(function(e){if(!1===e.editor);else if(e.ref&&1==e.ref)e.data.length>0&&t.$axios.post(t.EDIT+"/edit_ref_save",{data:e.data});else{var i=t;console.log(e),clearTimeout(t.my_timer),delete i.options.formula,i.options.row={len:e.rows.len},i.options.cols=e.cols,t.my_timer=setTimeout(function(){i.refresh=!0,i.editMessage(g()(e.rows),i.trade_code,e.styles,g()(i.options),i.sheet_id,e.merges,e.pictures,e.autofilter,i.id2)},400)}}),2===t.editor&&t.xs.setDataSettings(!1)}})}})},Q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"x-spreadsheet-demo"}})])}]};var K=i("VU/8")(Z,Q,!1,function(t){i("LzTc")},"data-v-adf61a92",null).exports,tt={data:function(){return{ruleForm:{username:"",password:""},eye:!1,weixinlogin:"",loading:!1,myWindow:null,passwordType:"password",rules:{password:[{validator:function(t,e,i){""===e?i(new Error("请输入密码")):i()},trigger:"blur"}],username:[{validator:function(t,e,i){""===e?i(new Error("请输入用户名")):i()},trigger:"blur"}]}}},computed:w()({},Object(Y.b)(["wxwindow"])),methods:w()({},Object(Y.c)({setWxWindow:"SET_WX_WINDOW"}),{weixinLogin:function(){if(this.wxwindow)this.wxwindow.focus();else{var t=this,e=window.open("https://open.weixin.qq.com/connect/qrconnect?appid=wx4df0678ff967e226&redirect_uri=http%3a%2f%2f180.169.75.199:5004/edit/wx/login&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect","","width=500,height=500");this.setWxWindow(e);var i=setInterval(function(){e.closed&&(C()&&"/login"==t.$route.path&&t.$router.push({path:"/home"}),t.setWxWindow(null),clearInterval(i))},1e3)}},LoginByUsername:function(){var t=this.$axios.post(this.EDIT+"/edit_login",{username:this.ruleForm.username+"",password:this.ruleForm.password+""});return console.log("146",t),t},showPwd:function(){"password"===this.passwordType?(this.passwordType="",this.eye=!0):(this.passwordType="password",this.eye=!1)},submitForm:function(){var t=this;this.loading=!0,this.$axios.post(this.EDIT+"/edit_login",{username:this.ruleForm.username+"",password:this.ruleForm.password+""}).then(function(e){0==e.data.status?t.$message({message:e.data.message,type:"error"}):(t.$message({message:"登录成功",type:"success"}),I(t.ruleForm.username),j("user",e.data.data),t.$route.query&&t.$route.query.redirect?t.$router.push({path:t.$route.query.redirect}):t.$router.push({path:"/home"})),t.loading=!1}).catch(function(e){t.loading=!1})},resetForm:function(t){this.$refs[t].resetFields()}})},et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container",staticStyle:{height:"100%",width:"100%"}},[i("div",{staticStyle:{width:"400px",height:"400px","margin-top":"100px",margin:"0px auto","padding-top":"70px"}},[t._m(0),t._v(" "),i("el-form",{ref:"ruleForm",staticClass:"login-form",attrs:{model:t.ruleForm,rules:t.rules,"auto-complete":"on","label-position":"left"}},[i("el-form-item",{attrs:{prop:"username"}},[i("span",{staticClass:"svg-container"},[i("img",{staticStyle:{height:"20px",width:"20px",position:"absolute",top:"12px"},attrs:{src:"/./static/Images/yonghu-2.png"}})]),t._v(" "),i("el-input",{attrs:{placeholder:"账号",name:"username",type:"text","auto-complete":"on"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticClass:"svg-container"},[i("img",{staticStyle:{height:"20px",width:"18px",position:"absolute",top:"12px"},attrs:{src:"/./static/Images/mima-2.png"}})]),t._v(" "),i("el-input",{attrs:{type:t.passwordType,placeholder:"密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}}),t._v(" "),i("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[t.eye?i("div",[i("img",{staticStyle:{height:"20px",width:"20px",position:"absolute",top:"8px",left:"-30px"},attrs:{src:"/./static/Images/eye-close.png"}})]):i("div",[i("img",{staticStyle:{height:"20px",width:"20px",position:"absolute",top:"8px",left:"-30px"},attrs:{src:"/./static/Images/eye-open.png"}})])])],1),t._v(" "),i("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},on:{click:t.submitForm}},[t._v("\n        登录\n      ")]),t._v(" "),i("div",{staticStyle:{position:"relative",top:"10px"}},[i("div",{staticClass:"tips"},[i("span",[t._v("账号 : 123456")]),t._v(" "),i("span",[t._v("密码 : 123456")])]),t._v(" "),i("el-button",{staticClass:"thirdparty-button",attrs:{type:"primary"},on:{click:t.weixinLogin}},[t._v("\n          微信登录\n        ")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-container"},[e("h3",{staticClass:"title"},[this._v("\n        系统登录\n      ")])])}]};var it=i("VU/8")(tt,et,!1,function(t){i("iIkd"),i("9Gal"),i("NpWd"),i("halR")},"data-v-08a3a1d6",null).exports,at=i("VU/8")(null,null,!1,null,null,null).exports,st={data:function(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",squareUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",sizeList:["small"],username:$("user").nickname?$("user").nickname:$("user").username}},mounted:function(){var t=$("user");t&&(this.squareUrl=t.headimage?t.headimage:t.headimgurl?t.headimgurl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png")},inject:["reload"],methods:{clickavatar:function(){console.log("20...")},deletedom:function(){},logout:function(){F.a.remove(S),V("user"),le[1].children=[],le[3].children=[],this.$router.push({path:"/login"}),window.location.href="/sheetapp/login"}}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"demo-basic--circle",staticStyle:{"text-align":"center","margin-top":"30px"}},[i("el-popover",{attrs:{placement:"left-end",width:"200",trigger:"click",content:"这是一段内容,这是一段内容,这是一段内容,这是一段内容。"},on:{hide:t.deletedom}},[i("div",[i("div",{staticStyle:{height:"50px"}},[i("span",{staticStyle:{display:"inline-block","margin-top":"10px","font-weight":"bold","font-size":"20px"}},[t._v(t._s(t.username))]),t._v(" "),i("img",{staticStyle:{width:"50px",height:"50px",float:"right"},attrs:{src:t.squareUrl}})]),t._v(" "),i("el-divider"),t._v(" "),i("i",{staticClass:"el-icon-top",staticStyle:{"font-size":"32px",float:"right",display:"inline-block","margin-right":"10px"},on:{click:t.logout}})],1),t._v(" "),i("el-avatar",{attrs:{slot:"reference",shape:"square",size:"large",src:t.squareUrl},slot:"reference"})],1)],1)])},staticRenderFns:[]};var ot={components:{HeardImage:i("VU/8")(st,nt,!1,function(t){i("O1fU")},"data-v-1673808a",null).exports},methods:{handleOpen:function(t,e){"home2"==t?(this.$router.push({path:"/home"}),this.$emit("changeType",2)):(this.$router.push({path:"/home"}),this.$emit("changeType",1))},handleClose:function(t,e){console.log(t,e)}}},lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%",width:"100%"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"100%"},attrs:{"default-active":"home","background-color":"#181A17","text-color":"#fff","active-text-color":"#0EAA10"},on:{select:this.handleOpen,close:this.handleClose}},[e("heard-image"),this._v(" "),e("el-menu-item",{staticStyle:{"padding-left":"12px","margin-top":"30px"},attrs:{index:"home"}},[e("i",{staticClass:"el-icon-edit-outline",staticStyle:{"font-size":"38px"}})]),this._v(" "),e("el-menu-item",{staticStyle:{"padding-left":"13px","margin-top":"1px"},attrs:{index:"home2"}},[e("i",{staticClass:"el-icon-s-shop",staticStyle:{"font-size":"38px"}})])],1)],1)},staticRenderFns:[]};var rt=i("VU/8")(ot,lt,!1,function(t){i("rDx2")},"data-v-7440d412",null).exports,dt=i("bOdI"),ct=i.n(dt),ht={props:["data"],mounted:function(){console.log("14...",this.data)},data:function(){return{defaultProps:{children:"childs",label:"alias"}}},methods:{handleDragStart:function(t,e){console.log("drag start",t)},handleDragEnter:function(t,e,i){console.log("tree drag enter: ",e.label)},handleDragLeave:function(t,e,i){console.log("tree drag leave: ",e.label)},handleDragOver:function(t,e,i){console.log("tree drag over: ",e.label)},handleDragEnd:function(t,e,i,a){console.log("tree drag end: ",e&&e.label,i)},handleDrop:function(t,e,i,a){console.log("tree drop: ",e.label,i)},allowDrop:function(t,e,i){return"二级 3-1"!==e.data.label||"inner"!==i},allowDrag:function(t){return-1===t.data.label.indexOf("三级 3-2-2")}}},ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tree",{attrs:{data:t.data,"node-key":"id","default-expand-all":"",draggable:"","allow-drop":t.allowDrop,"allow-drag":t.allowDrag,props:t.defaultProps},on:{"node-drag-start":t.handleDragStart,"node-drag-enter":t.handleDragEnter,"node-drag-leave":t.handleDragLeave,"node-drag-over":t.handleDragOver,"node-drag-end":t.handleDragEnd,"node-drop":t.handleDrop}})],1)},staticRenderFns:[]};var pt=i("VU/8")(ht,ut,!1,function(t){i("woU2")},"data-v-3a4247b9",null).exports,ft={name:"NavMenu",props:["navMenus"],data:function(){return{show:!1}},computed:w()({},Object(Y.b)(["entity"])),methods:w()({},Object(Y.c)({setEntity:"SET_ENTITY"}),{rightShow:function(t){this.setEntity(t)}})},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navMenu"},[t._l(t.navMenus,function(e){return[!e.childs&&e.entity&&"hide"!=e.entity.alias?i("el-menu-item",{key:e.entity.id,staticClass:"_folder",staticStyle:{display:"block"},attrs:{data:e,index:"/home"+e.entity.path}},[i("div",{on:{contextmenu:function(i){return i.preventDefault(),t.rightShow(e.entity)}}},[i("i",{class:e.entity.icon}),t._v(" "),i("span",{staticStyle:{width:"68%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"inline-block"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.entity.alias))]),t._v(" "),i("div",{staticStyle:{display:"inline-block",position:"absolute",right:"20px"}},[i("span",{staticStyle:{position:"relative",top:"1px","font-size":"12px",color:"rgb(169, 169, 169)"}},[t._v("\n          "+t._s(e.entity.sheet.date)+"\n        ")])])])]):t._e(),t._v(" "),e.childs&&e.entity?i("el-submenu",{key:e.entity.id,attrs:{data:e,index:"/home"+e.entity.path}},[i("template",{slot:"title"},[i("div",{staticStyle:{position:"relative",left:"-11px"},on:{contextmenu:function(i){return i.preventDefault(),t.rightShow(e.entity)}}},[e.entity.sheet.state?i("i",{class:e.entity.icon,staticStyle:{color:"#09cc7e"}}):i("i",{class:e.entity.icon}),t._v(" "),i("span",[t._v(" "+t._s(e.entity.alias))])])]),t._v(" "),i("NavMenu",{attrs:{navMenus:e.childs}})],2):t._e()]})],2)},staticRenderFns:[]};var vt=i("VU/8")(ft,mt,!1,function(t){i("l6iO")},null,null).exports,gt={methods:w()({},Object(Y.c)({setActiveIndex:"SET_ACTIVE_INDEX",setEntity:"SET_ENTITY"}),{rightShow:function(t){console.log("34",t),this.setEntity(t)},handleOpen:function(t,e){var i=this,a=null;if(p()(this.data).forEach(function(e){"/home"+i.data[e].path==t&&(a=i.data[e])}),null!=a){var s={user_id:C(),file_id:"/home"+a.path};console.log("26",a,t),setTimeout(function(){X(i.$axios,i.EDIT,s).then(function(){i.setActiveIndex(t)})},0)}},handleClose:function(t,e){console.log(t,e)}}),props:["data"],computed:w()({},Object(Y.b)(["active_index"])),data:function(){return{index:"",load:!1,type:1,timer:null}},watch:{data:function(){this.type="1"==this.type?2:"1",console.log("80")},$route:function(t,e){this.setActiveIndex(t.path),this.index=t.path},active_index:{handler:function(t){this.setActiveIndex(this.index)},deep:!0}},mounted:function(){var t=this;this.load=!1,this.index=this.active_index,setTimeout(function(){t.load=!0})}},bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#FBFBFB"}},[1==t.type?i("div",[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.index,router:"","active-text-color":"rgb(14, 170, 16)","background-color":"#FBFBFB"},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.data,function(e,a){return i("div",[2!==e.type?i("el-menu-item",{attrs:{index:"/home"+e.path}},[i("div",{on:{contextmenu:function(i){return i.preventDefault(),t.rightShow(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(" "),i("span",{staticStyle:{width:"60%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"inline-block"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.alias)+" ")]),t._v(" "),i("div",{staticStyle:{display:"inline-block",position:"absolute",right:"20px"}},[i("span",{staticStyle:{position:"relative",top:"1px","font-size":"12px",color:"rgb(169, 169, 169)"}},[t._v("\n            "+t._s(e.date)+"\n          ")])])])]):t._e()],1)}),0)],1):i("div",{attrs:{id:t.type+"sss"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.index,router:"","active-text-color":"rgb(14, 170, 16)","background-color":"#FBFBFB"},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.data,function(e,a){return i("div",[2!==e.type?i("el-menu-item",{attrs:{index:"/home"+e.path}},[i("div",{on:{contextmenu:function(i){return i.preventDefault(),t.rightShow(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(" "),i("span",{staticStyle:{width:"60%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"inline-block"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.alias)+" ")]),t._v(" "),i("div",{staticStyle:{display:"inline-block",position:"absolute",right:"20px"}},[i("span",{staticStyle:{position:"relative",top:"1px","font-size":"12px",color:"rgb(169, 169, 169)"}},[t._v("\n            "+t._s(e.date)+"\n        ")])])])]):t._e()],1)}),0)],1)])},staticRenderFns:[]};var _t={name:"search",data:function(){return{input:"",timer:null,fouce:!1,clear:!1}},mounted:function(){document.getElementById("search_input").addEventListener("keydown",function(t){t.stopPropagation()})},watch:{input:function(t){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){0==e.clear&&e.$emit("getData2",e.input),e.clear=!1},50)}},methods:{focus:function(){this.$emit("setChange")},changeInput:function(t){console.log("42")},clearInput:function(t){this.$emit("setLabel",2),this.clear=!0},blurInput:function(t){this.$emit("getData",this.input)}}},yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{padding:"5px"}},[i("el-input",{ref:"input_ref",attrs:{id:"search_input","prefix-icon":"el-icon-search",clearable:"",placeholder:"搜索"},on:{focus:t.focus,blur:t.blurInput,clear:t.clearInput,change:t.changeInput},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)])},staticRenderFns:[]};var xt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  searchopen\n")])},staticRenderFns:[]};var wt=function(t){var e=t.path,i=t.parent,a=t.alias,s=t.type,n=t.icon,o=t.id,l=t.sheet,r=t.sheet_id,d="string"==typeof $("user")?JSON.parse($("user")):$("user");if(d)return{alias:a,path:e,parent:i,childs:null,icon:n,id:o,sheet:l,sheet_id:r,type:s,user_id:d.id}};function Tt(t,e,i){var a=i.alias,s=i.folder_type,n=i.user_id,o=i.path;return t.post(e+"/edit_catalogue/add_qtxt",{alias:a,folder_type:s,user_id:n,path:o})}var kt={props:["dialogFormVisible","navMenus","self","parent"],methods:{talkParent:function(){this.$emit("receive",!1)},filterNavMenus:function(t){var e=this;t.forEach(function(t){t.childs&&(e.folder.push(t.entity),e.filterNavMenus(t.childs))})},addAFile:function(){var t=this;if(""!=this.form.name){var e=$("user");if(!e)return this.$message({message:"您还没有登录哦~",type:"error"}),void this.$router.push({path:"/login"});this.loading=!0,Tt(this.$axios,this.EDIT,{alias:this.form.name,folder_type:"qtxt",user_id:e.id,path:this.parent}).then(function(e){if("500"==e.data.status)t.$message({message:e.data.data,type:"warning"});else{if(t.$emit("create",e.data.data),t.$message({message:"创建成功",type:"success"}),e.data.sheet){var i=wt(e.data.sheet),a=[];le[1].children.push(B(t.self,{path:R+i.path+"",id:i.sheet_id,id2:i.sheet_id2})),a.push(le[1]),t.$router.addRoutes(a),t.$router.push({path:R+i.path+""})}t.operate(e.data.data)}t.loading=!1}).catch(function(e){t.loading=!1})}else this.$message({message:"qtxt名称不能为空",type:"warning"})},operate:function(t){this.addRootDirectory(),this.filterNavMenus(t),this.talkParent()},addRootDirectory:function(){this.folder=[],this.folder.push({alias:"/",path:"/"})}},created:function(){this.addRootDirectory(),this.filterNavMenus(this.navMenus)},watch:{dialogFormVisible:function(t,e){this.copyDialogFormVisible=this.dialogFormVisible,this.addRootDirectory(),this.filterNavMenus(this.navMenus),this.form.folder=""},copyDialogFormVisible:function(t,e){1==e&&this.$emit("receive",!1)}},data:function(){return{folder:[],folderType:[{label:"文件",id:"file"},{label:"文件夹",id:"folder"}],loading:!1,copyDialogFormVisible:this.dialogFormVisible,form:{name:""},plan:{},formLabelWidth:"120px"}}},Et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{width:"50%",title:"新建",center:"",visible:t.copyDialogFormVisible},on:{"update:visible":function(e){t.copyDialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"qtxt名称","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"80%"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.talkParent}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.addAFile}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Dt={props:["dialogFormVisible","entity","navMenus"],watch:{dialogFormVisible:function(t,e){this.copyDialogFormVisible=this.dialogFormVisible},copyDialogFormVisible:function(t,e){1==e&&this.$emit("receive",!1)}},data:function(){return{copyDialogFormVisible:this.dialogFormVisible,loading:!1,searchEntity:"",address:"",innerVisible:!1}},methods:{talkParent:function(){this.$emit("receive",!1)},filterNavMenus:function(t){var e=this;t.forEach(function(t){t.childs&&(e.folder.push(t.entity),e.filterNavMenus(t.childs))})},findJieShao:function(t,e,i){var a=this;t.forEach(function(t){t.childs?a.findJieShao(t.childs,e,i):t.entity.parent===e&&t.entity.alias===i&&(a.searchEntity=t.entity)})},issue:function(){var t=this,e=this.entity.id;this.findJieShao(this.navMenus,this.entity.path,"介绍");var i=this.searchEntity.sheet_id;(function(t,e,i){var a=i.user_id,s=i.sheet_id,n=i.catalogue_id;return t.post(e+"/share_data",{user_id:a,sheet_id:s,catalogue_id:n})})(this.$axios,this.EDIT,{user_id:$("user").id,sheet_id:i,catalogue_id:e}).then(function(e){console.log(e);var i=e.data,a=i.state,s=i.message;if(a){t.innerVisible=!0;var n=e.data.url;t.address="http://192.168.31.9:1111/sheetapp/share/"+n,t.$emit("loadCatalogueData")}else t.$message({message:s,type:"error"})})}}},Ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{width:"30%",title:"发布",center:"",visible:t.copyDialogFormVisible},on:{"update:visible":function(e){t.copyDialogFormVisible=e}}},[i("span",[t._v("发布之后，您可以给更多的人带来帮助")]),t._v(" "),i("el-dialog",{attrs:{center:"",title:"发布成功",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[i("a",{staticStyle:{color:"#0EAA10"},attrs:{href:t.address,target:"_blank"}},[t._v(t._s(t.address))])]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.talkParent}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary ",loading:t.loading},on:{click:t.issue}},[t._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var St={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isIssue?i("div",[i("v-contextmenu-item",{attrs:{disabled:""}},[t._v("暂无选项")])],1):i("div",[t.disableIssue?t._e():i("v-contextmenu-item",{on:{click:t.issue}},[t._v("发布")]),t._v(" "),t.disableFile?t._e():i("v-contextmenu-item",{on:{click:t.createMD}},[t._v("创建文本文件")]),t._v(" "),t.disableFolder?t._e():i("v-contextmenu-item",{on:{click:t.revisions}},[t._v("恢复历史版本")]),t._v(" "),t.disableDelete?t._e():i("v-contextmenu-item",{on:{click:t.renameFile}},[t._v("修改名称")]),t._v(" "),t.disableDelete?t._e():i("v-contextmenu-item",{attrs:{divider:""},on:{click:t.renameFile}},[t._v("修改名称")]),t._v(" "),t.disableRemove?t._e():i("v-contextmenu-item",{on:{click:t.removeFile}},[t._v("删除")])],1)])},staticRenderFns:[]};var Ct={name:"views",components:{NavMenu:vt,RecentlyOpen:i("VU/8")(gt,bt,!1,function(t){i("5g3L")},null,null).exports,Search:i("VU/8")(_t,yt,!1,function(t){i("9Wcg")},"data-v-1310477c",null).exports,SearchOpen:i("VU/8")({name:"search-open"},xt,!1,function(t){i("L9kT")},"data-v-68955185",null).exports,MdDialog:i("VU/8")(kt,Et,!1,function(t){i("LTQq")},null,null).exports,IssueDialog:i("VU/8")(Dt,Ft,!1,function(t){i("L3yD")},"data-v-404987e4",null).exports,ContextMenu:i("VU/8")({name:"contextmenu",props:["disableFile","disableFolder","disableIssue","disableDelete","disableRemove","isIssue"],methods:{issue:function(){this.$emit("issue")},createMD:function(){this.$emit("createMD")},revisions:function(){this.$emit("revisions")},renameFile:function(){this.$emit("renameFile")},removeFile:function(){this.$emit("removeFile")}}},St,!1,function(t){i("d94x")},"data-v-79d8bf24",null).exports},data:function(){return{change:1,viewId:1,label_change:1,data:[],loading:!1,index:"",centerDialogVisible:!1,input:"",disableFolder:!1,disableFile:!1,disableIssue:!1,disableDelete:!1,dialogFormVisible:!1,disableRemove:!1,parentMD:"",searchEntity:null,issueDialogFormVisible:!1,rootFolder:null,isIssue:!1}},watch:{$route:function(t,e){this.setActiveIndex(t.path),this.index=t.path},menuData:function(){this.getData("")},change:function(){var t=this.change;2===t&&setTimeout(function(){var t=document.getElementsByClassName("el-menu-item is-active"),e=document.getElementById("quill_id");e?(e.style.height="0px",t[t.length-1].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),e.style.height="100%"):t[t.length-1].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},50)}},computed:w()({},Object(Y.b)(["active_index","entity","menuData","xs"])),mounted:function(){this.index=this.active_index,this.getData("")},methods:w()({},Object(Y.c)({setActiveIndex:"SET_ACTIVE_INDEX",setMenuData:"SET_MENU_DATA"}),{receive:function(t){this.dialogFormVisible=t},receive2:function(t){this.issueDialogFormVisible=t},changeFileName:function(){var t,e,i,a,s,n=this;""!=this.input?(t=this.$axios,e=this.EDIT,i={_id:this.entity.id,name:this.input},a=i._id,s=i.name,t.post(e+"/edit_catalogue/rename",{id:a,name:s})).then(function(t){if(console.log("116",t.data),"fail"==t.data)return n.$message({message:"该文件已经存在了哦~",type:"error",showClose:!0}),void(n.centerDialogVisible=!1);n.$message({message:"修改名称成功",type:"success",showClose:!0}),n.centerDialogVisible=!1,n.$emit("loadCatalogueData")}):this.$message({message:"文件名不能为空",type:"warning"})},pushIntoMenuData:function(t){this.setMenuData(t)},folderOrFile:function(t){console.log(this.entity);var e=this.entity,i=e.type,a=e.parent,s=e.alias,n=this.entity.sheet;if(n){var o=n.editor;if(!n||!o||2===o||3===o)return this.disableIssue=!0,this.disableFolder=!0,this.disableFile=!0,void(this.disableDelete=!0)}(2===i?(this.disableFolder=!0,this.disableFile=!1,this.disableDelete=!1,this.disableRemove=!1,this.disableIssue="/"!==a):1===i?(this.disableFolder=!1,this.disableDelete=!1,this.disableRemove=!1,this.disableFile=!0,this.disableIssue=!0):(this.disableDelete=!1,this.disableRemove=!1,this.disableIssue=!0,this.disableFolder=!0,this.disableFile=!0),this.isIssue=!1,"介绍"===s)&&(this.rootFolder=null,this.searchRootFolder(this.menuData,a,"介绍"),this.rootFolder&&this.rootFolder.sheet.state&&(this.isIssue=!0,this.disableDelete=!0,this.disableRemove=!0))},revisionOpen:function(){var t=this,e={_id:this.entity.id};G(this.$axios,this.EDIT,e).then(function(i){if(i.data.state){if("error"===i.data.data)return;var a="string"==typeof i.data.data.sheet_details?JSON.parse(i.data.data.sheet_details):i.data.data.sheet_details,s="";s="string"==typeof i.data.data.sheet_styles&&JSON.parse(i.data.data.sheet_styles)?JSON.parse(i.data.data.sheet_styles):i.data.data.sheet_styles;var n=t.loadRowAndCol({},i.data.data.neat_flex,i.data.data.sheet_options);e={styles:s,rows:a,options:n,merges:i.data.data.sheet_merges,autofilter:i.data.data.sheet_auto_filter,pictures:i.data.data.sheet_pictures,flex:t.loadNeatFlex(i.data.data.neat_flex),cols:n&&n.cols||{}},t.xs.plugIn.openFrame(function(){return document.body.clientWidth-280-68},i.data.message,e,{axios:t.$axios,url:t.EDIT+"/edit_versions/find"},t)}else t.$message({message:i.data.message,type:"error",showClose:!0})})},createMD:function(){this.parentMD=this.entity.path,this.dialogFormVisible=!0},revisions:function(){"/home"+this.entity.path!==this.$route.path?this.$router.push({path:"/home"+this.entity.path,query:{_id:this.entity.id,revision:!0}}):this.revisionOpen()},searchMenuDataIndex:function(t,e,i){var a=this;t.forEach(function(t){t.childs?a.searchMenuDataIndex(t.childs,e,i):t.entity.parent===e&&t.entity.alias===i&&(a.searchEntity=t.entity)})},searchRootFolder:function(t,e,i){var a=this;t.forEach(function(t){t.entity.path===e&&"/"===t.entity.parent&&(a.rootFolder=t.entity),t.childs&&a.searchRootFolder(t.childs,e,i)})},issue:function(){var t=this,e=$("user");if(!e)return this.$message({message:"您还没有登录哦~",type:"error"}),void this.$router.push({path:"/login"});this.searchEntity=null,this.searchMenuDataIndex(this.menuData,this.entity.path,"介绍"),null===this.searchEntity?Tt(this.$axios,this.EDIT,{alias:"介绍",folder_type:"qtxt",user_id:e.id,path:this.entity.path}).then(function(e){if("500"==e.data.status)t.$message({message:e.data.data,type:"warning"});else{if(t.pushIntoMenuData(e.data.data),t.$message({message:"创建成功",type:"success"}),e.data.sheet){var i=wt(e.data.sheet),a=[];le[1].children.push(B(t,{path:R+i.path+"",id:i.sheet_id,id2:i.sheet_id2})),console.log(le[1]),a.push(le[1]),t.$router.addRoutes(a),t.$router.push({path:R+i.path+""})}t.$refs.md.operate(e.data.data)}}):this.issueDialogFormVisible=!0},loadRowAndCol:function(t,e,i){return e&&(t.row={len:e.rows},t.rowWidth={state:!0,width:240},t.view={height:function(){return 3750}},t.col={len:e.col}),t.view={width:function(){return document.body.clientWidth-280-10-68}},"string"==typeof i&&(i=JSON.parse(i)),i.cols&&(t.cols=i.cols),i.row&&(t.row=i.row),t.showFreeze=!0,t},loadNeatFlex:function(t){return t?t.neat_flex:{}},removeFile:function(){var t,e,i,a,s,n,o,l,r,d=this,c={user_id:$("user").id,file_id:this.entity.file_id||"/home"+this.entity.path,_id:this.entity.id,type:this.entity.type,path:this.entity.parent,path2:this.entity.path};console.log(this.entity,"92"),(t=this.$axios,e=this.EDIT,i=c,a=i._id,s=i.file_id,n=i.user_id,o=i.type,l=i.path,r=i.path2,t.post(e+"/remove_file",{id:a,file_id:s,user_id:n,path:l,type:o,path2:r})).then(function(t){d.$message({message:"删除成功",type:"success",showClose:!0}),d.$emit("loadCatalogueData"),d.$router.push({path:"/home"})})},renameFile:function(){this.centerDialogVisible=!0,this.input=this.entity.alias,console.log(this.entity,"92")},loadCatalogueData:function(){this.$emit("loadCatalogueData")},getEntity:function(t){console.log("96",t),this.entity=t},handler:function(t){1==t&&this.getData(""),this.viewId=t,this.change=t},setChange:function(t){this.label_change=this.change},setLabel:function(t){console.log("139",t,this.change,this.label_change),1==t?this.change=t:1==this.label_change?this.getData(""):this.change=2},setData:function(t){this.data=[]},open:function(t,e){console.log("279",t,e);var i={user_id:$("user").id,file_id:t};this.index=t,X(this.$axios,this.EDIT,i)},getData:function(){var t,e,i,a,s,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=setTimeout(function(){n.loading=!0},50);(t=this.$axios,e=this.EDIT,i={user_id:$("user").id,file_name:o},a=i.user_id,s=i.file_name,t.post(e+"/openFileRecently_get",{user_id:a,file_name:s})).then(function(t){n.data=t.data.data,n.data.length&&n.setActiveIndex("/home"+n.data[0].path),clearTimeout(l),n.loading=!1}).catch(function(t){n.loading=!1,clearTimeout(l)})},getData2:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.data={},this.setLabel(1);var i,a,s,n,o,l=setTimeout(function(){t.loading=!0},50);(i=this.$axios,a=this.EDIT,s={user_id:$("user").id,file_name:e},n=s.user_id,o=s.file_name,i.post(a+"/openFile_get",{user_id:n,file_name:o})).then(function(e){t.data=e.data.data,t.data.length&&t.setActiveIndex("/home"+t.data[0].path),clearTimeout(l),t.loading=!1}).catch(function(e){t.loading=!1,clearTimeout(l)})}})},$t={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticStyle:{"margin-left":"20px","margin-top":"10px",display:"inline-block","letter-spacing":"5px"}},[i("span",{on:{click:function(e){return t.handler(1)}}},[1==t.viewId?i("span",{staticStyle:{"font-size":"26px",color:"#0EAA10"}},[i("i",{staticClass:"el-icon-tickets"})]):i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"26px"},attrs:{"data-tooltip":"打开最近"}},[i("i",{staticClass:"el-icon-document"})])]),t._v(" "),i("span",{on:{click:function(e){return t.handler(2)}}},[2==t.viewId?i("span",{staticStyle:{"font-size":"26px",color:"#0EAA10"}},[i("i",{staticClass:"el-icon-folder-opened"})]):i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"26px"},attrs:{"data-tooltip":"打开目录"}},[i("i",{staticClass:"el-icon-folder"})])])]),t._v(" "),i("div",[i("search",{on:{setLabel:t.setLabel,setChange:t.setChange,getData2:t.getData2,opensearchpane:t.handler,getData:t.getData,setData:t.setData}})],1)]),t._v(" "),i("div",{staticStyle:{"min-height":"100px"},attrs:{"element-loading-spinner":"el-icon-loading"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.change,expression:"change == 1"}]},[i("div",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}]},[i("recently-open",{attrs:{data:t.data},on:{getData:t.getData,opensearchpane:t.handler}}),t._v(" "),i("v-contextmenu",{ref:"contextmenu",on:{contextmenu:t.folderOrFile}},[i("context-menu",{attrs:{disableFile:t.disableFile,disableFolder:t.disableFolder,disableDelete:t.disableDelete,disableRemove:t.disableRemove,isIssue:t.isIssue},on:{issue:t.issue,createMD:t.createMD,revisions:t.revisions,renameFile:t.renameFile,removeFile:t.removeFile}})],1)],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.change,expression:"change == 2"}]},[i("div",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],staticClass:"folder_menu"},[i("el-menu",{attrs:{"background-color":"#FBFBFB","active-text-color":"rgb(14, 170, 16)",router:"","default-active":t.index},on:{select:t.open}},[i("nav-menu",{attrs:{navMenus:t.menuData}})],1),t._v(" "),i("v-contextmenu",{ref:"contextmenu",on:{contextmenu:t.folderOrFile}},[i("context-menu",{attrs:{disableFile:t.disableFile,disableFolder:t.disableFolder,disableIssue:t.disableIssue,disableDelete:t.disableDelete,disableRemove:t.disableRemove,isIssue:t.isIssue},on:{issue:t.issue,createMD:t.createMD,revisions:t.revisions,renameFile:t.renameFile,removeFile:t.removeFile}})],1)],1)])]),t._v(" "),i("div",[i("el-dialog",{attrs:{title:"修改名称",visible:t.centerDialogVisible,width:"40%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("span",[i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.changeFileName}},[t._v("确 定")])],1)])],1),t._v(" "),i("div",[i("md-dialog",{ref:"md",attrs:{self:this,parent:t.parentMD,navMenus:t.menuData,dialogFormVisible:t.dialogFormVisible},on:{create:t.pushIntoMenuData,receive:t.receive}}),t._v(" "),i("issue-dialog",{attrs:{entity:t.entity,navMenus:t.menuData,dialogFormVisible:t.issueDialogFormVisible},on:{receive:t.receive2,loadCatalogueData:t.loadCatalogueData}})],1)])},staticRenderFns:[]};var It=i("VU/8")(Ct,$t,!1,function(t){i("7Ikz")},"data-v-30f45bd5",null).exports,jt={props:["dialogFormVisible","navMenus","self"],methods:{talkParent:function(){this.$emit("receive",!1)},filterNavMenus:function(t){var e=this;t.forEach(function(t){var i=t.entity.alias;t.childs&&"外部项目"!==i&&(e.folder.push(t.entity),e.filterNavMenus(t.childs))})},addAFile:function(){var t=this;if(console.log("."),""!=this.form.name&&""!=this.form.folderType&&""!=this.form.folder){var e=$("user");if(!e)return this.$message({message:"您还没有登录哦~",type:"error"}),this.removeToken2("user"),void this.$router.push({path:"/login"});this.loading=!0,this.$axios.post(this.EDIT+"/edit_catalogue/add",{alias:this.form.name,folder_type:this.form.folderType,user_id:e.id,path:this.form.folder,options:g()(q),styles:g()([])}).then(function(e){if("500"==e.data.status)t.$message({message:e.data.data,type:"warning"});else{if(t.$emit("create",e.data.data),t.$message({message:"创建成功",type:"success"}),e.data.sheet){var i=wt(e.data.sheet),a=[];le[1].children.push(z(t.self,{path:R+i.path+"",id:i.sheet_id,id2:i.sheet_id2,name:i.alias})),a.push(le[1]),t.$router.addRoutes(a),t.$router.push({path:R+i.path+""})}t.addRootDirectory(),t.filterNavMenus(e.data.data),t.talkParent()}t.loading=!1}).catch(function(e){t.loading=!1})}else this.$message({message:"文件信息不能为空",type:"warning"})},addRootDirectory:function(){this.folder=[],this.folder.push({alias:"/",path:"/"})}},created:function(){this.addRootDirectory(),this.filterNavMenus(this.navMenus),console.log(this.folder,"95")},watch:{dialogFormVisible:function(t,e){this.copyDialogFormVisible=this.dialogFormVisible,!1!==this.copyDialogFormVisible&&(this.addRootDirectory(),this.filterNavMenus(this.navMenus)),this.form.folder="",console.log(41,this.form.folder,this.navMenus)},copyDialogFormVisible:function(t,e){1==e&&this.$emit("receive",!1)}},data:function(){return{folder:[],folderType:[{label:"文件",id:"file"},{label:"文件夹",id:"folder"}],loading:!1,copyDialogFormVisible:this.dialogFormVisible,gridData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],form:{name:"",folder:"",folderType:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px"}}},Vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{width:"50%",title:"新建",center:"",visible:t.copyDialogFormVisible},on:{"update:visible":function(e){t.copyDialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"文件名称","label-width":t.formLabelWidth}},[i("el-input",{staticStyle:{width:"80%"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文件目录","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择文件目录"},model:{value:t.form.folder,callback:function(e){t.$set(t.form,"folder",e)},expression:"form.folder"}},t._l(t.folder,function(t){return i("div",[i("el-option",{attrs:{label:t.alias,value:t.path}})],1)}),0)],1),t._v(" "),i("el-form-item",{attrs:{label:"文件类型","label-width":t.formLabelWidth}},[i("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择文件类型"},model:{value:t.form.folderType,callback:function(e){t.$set(t.form,"folderType",e)},expression:"form.folderType"}},t._l(t.folderType,function(t){return i("div",[i("el-option",{attrs:{label:t.label,value:t.id}})],1)}),0)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.talkParent}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.addAFile}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var At=i("VU/8")(jt,Vt,!1,function(t){i("aeOx")},"data-v-6586644e",null).exports,Nt={components:{NavMenu:vt,Create:At,ElTree:pt},data:function(){return{editableTabsValue:!1,editableTabs:[]}},mounted:function(){},methods:{handleTabsEdit:function(t,e){var i=this;if("add"===e){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}"remove"===e&&8!=event.keyCode&&(this.editableTabs=this.editableTabs.filter(function(t){return t.id!=i.editableTabsValue}),this.editableTabs.length>0&&(this.editableTabsValue=this.editableTabs[this.editableTabs.length-1].name,this.$router.push({path:"/home"+this.editableTabs[this.editableTabs.length-1].path}),this.activeIndex="/home"+this.editableTabs[this.editableTabs.length-1].path),console.log(this.editableTabs,this.editableTabsValue,"458"))},changeTabName:function(t){var e=this;console.log("186");for(var i=function(i){if(e.editableTabs[i].name==e.editableTabsValue&&1==e.isEdit){e.editTabsValue=e.editableTabsValue;var a=t.srcElement;if(console.log("196： ",a.getAttribute("class")),"el-tabs__nav-scroll"==a.getAttribute("class"))return{v:void 0};e.isEdit=3;var s=document.createElement("input");a.innerHTML;s.setAttribute("id","temp_input"),a.appendChild(s),s.setAttribute("style","position: relative; left: -10px;"),s.autofocus=!0,document.getElementById("temp_input").value=e.editableTabs[i].title,e.editableTabs[i].title="";var n=e;s.onkeypress=function(t){var e=this;if(13==t.keyCode){if(""==document.getElementById("temp_input").value)return void n.$message({message:"文件名不能为空",type:"warning"});n.$axios.post(n.EDIT+"/edit_catalogue/rename",{id:n.editableTabs[i].id,name:document.getElementById("temp_input").value}).then(function(t){n.loadCatalogue(),n.editableTabs[i].title=document.getElementById("temp_input").value,a.removeChild(a.getElementsByTagName("input")[0]),e.isEdit=1})}}}},a=0;a<this.editableTabs.length;a++){var s=i(a);if("object"===(void 0===s?"undefined":_()(s)))return s.v}},tabClick:function(){3==this.isEdit&&this.editableTabsValue==this.editTabsValue?(this.isEdit=2,console.log("103, 103")):3==this.isEdit&&this.editableTabsValue!=this.editTabsValue&&(this.isEdit=4);for(var t=0;t<this.editableTabs.length;t++)console.log("277: ",this.editableTabs[t].name,this.editableTabsValue),this.editableTabs[t].name==this.editableTabsValue&&(this.activeIndex="/home"+this.editableTabs[t].path,this.$router.push({path:"/home"+this.editableTabs[t].path}))}}},Mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("el-tabs",{staticClass:"marinner",attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,edit:t.handleTabsEdit},nativeOn:{dblclick:function(e){return t.changeTabName(e)}},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(t,e){return i("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}})}),1),t._v(" "),i("router-view")],1)},staticRenderFns:[]};var Rt;var zt={name:"index",components:{Create:At,ElTree:pt,Sheet:i("VU/8")(Nt,Mt,!1,function(t){i("kMji")},null,null).exports,Views:It},computed:w()({},Object(Y.b)(["active_index","menuData"])),data:function(){return{styles:W,query:{trade_code:"600548.SH",table_type:"资产负债表",report_season_list:["年报","三季报"],hide_checked:!1,sheet_type_list:["合并报表","合并报表调整","母公司报表","母公司报表调整"],time_range:[2017,2018],unit:"元",decimal_num:5},openSheet:[],isEdit:1,dialogFormVisible:!1,options:{showFreeze:!1,showEditor:!0,autoLoad:!0,rowWidth:{state:!0,width:240},view:{width:function(){return document.getElementsByClassName("el-col-20")[0].clientWidth}},row:{len:10,height:25},col:{len:3,width:140,indexWidth:60,minWidth:60},showGrid:!0,showToolbar:!0},searchValue:{},len:0,contextC:null,editTabsValue:"-1",router_b:[],editableTabsValue:"1",editableTabs:[],showNewCompent:!1,searchIndex:[]}},mounted:function(){var t=this;this.loadCataloguePromise().then(function(e){t.setMenuData(e.data),t.showNewCompent=!0;var i=[],a=[];i.push(le[1]),t.create_route_b(t.menuData,a,R),i[0].children=a,t.$router.addRoutes(i);var s,n,o=t.$route.query.redirect;if(o){var l=!1;n=(s=o).split("?"),o=n&&n.length>1?n[0]:s,p()(a).forEach(function(t){a[t].path==o&&(l=!0)}),0==l&&(o="/home"),o=decodeURIComponent(o||"/"),t.$router.push({path:o})}})},methods:w()({},Object(Y.c)({setActiveIndex:"SET_ACTIVE_INDEX",setMenuData:"SET_MENU_DATA"}),(Rt={loadCatalogueData:function(){var t=this;this.loadCataloguePromise().then(function(e){t.setMenuData(e.data)})},redirect:function(t,e){var i=!1;p()(t).forEach(function(a){t[a].path==e&&(i=!0)}),0==i&&(e="/home"),e=decodeURIComponent(e||"/"),this.$router.push({path:e})},menuhover:function(t){this.contextC=t.target}},ct()(Rt,"redirect",function(t){this.$router.push({path:t})}),ct()(Rt,"renameFile",function(t,e){console.log(t,e);var i=e,a=i.pageX,s=i.pageY,n=document.elementFromPoint(a-50,s-20);console.log(n)}),ct()(Rt,"removeFile",function(t,e){var i=e,a=i.pageX,s=i.pageY;document.elementFromPoint(a-20,s-20)}),ct()(Rt,"pushToTab",function(t){this.getmenuData(this.menuData,t),this.editableTabs.push({title:this.searchValue.alias,name:t,id:t}),this.editableTabsValue=t+""}),ct()(Rt,"hideInput",function(){var t=this;if(null!=document.getElementById("temp_input")){if(3==this.isEdit){if(""==document.getElementById("temp_input").value)return void this.$message({message:"文件名不能为空",type:"warning"});for(var e=document.getElementById("temp_input").parentNode,i=document.getElementById("temp_input").value,a=0;a<this.editableTabs.length;a++)console.log(this.editableTabsValue,this.editableTabs[a],"117"),this.editableTabs[a].name==this.editableTabsValue&&(this.editableTabs[a].title=i,this.$axios.post(this.EDIT+"/edit_catalogue/rename",{id:this.editableTabs[a].id,name:i}).then(function(e){t.loadCatalogue()}));e.removeChild(document.getElementById("temp_input")),this.isEdit=1}else if(4==this.isEdit){if(null==document.getElementById("temp_input"))return void(this.isEdit=1);if(""==document.getElementById("temp_input").value)return this.$message({message:"文件名不能为空",type:"warning"}),void(this.editableTabsValue=this.editTabsValue);for(var s=document.getElementById("temp_input").value,n=0;n<this.editableTabs.length;n++)this.editableTabs[n].name==this.editTabsValue&&(this.editableTabs[n].title=s,this.$axios.post(this.EDIT+"/edit_catalogue/rename",{id:this.editableTabs[n].id,name:s}).then(function(e){t.loadCatalogue()}));this.isEdit=1,document.getElementById("temp_input").parentNode.removeChild(document.getElementById("temp_input"))}2==this.isEdit&&(this.isEdit=3)}else this.isEdit=1}),ct()(Rt,"changeTabName",function(t){var e=this;console.log("186");for(var i=function(i){if(e.editableTabs[i].name==e.editableTabsValue&&1==e.isEdit){e.editTabsValue=e.editableTabsValue;var a=t.srcElement;if(console.log("196： ",a.getAttribute("class")),"el-tabs__nav-scroll"==a.getAttribute("class"))return{v:void 0};e.isEdit=3;var s=document.createElement("input");a.innerHTML;s.setAttribute("id","temp_input"),a.appendChild(s),s.setAttribute("style","position: relative; left: -10px;"),s.autofocus=!0,document.getElementById("temp_input").value=e.editableTabs[i].title,e.editableTabs[i].title="";var n=e;s.onkeypress=function(t){var e=this;if(13==t.keyCode){if(""==document.getElementById("temp_input").value)return void n.$message({message:"文件名不能为空",type:"warning"});n.$axios.post(n.EDIT+"/edit_catalogue/rename",{id:n.editableTabs[i].id,name:document.getElementById("temp_input").value}).then(function(t){n.loadCatalogue(),n.editableTabs[i].title=document.getElementById("temp_input").value,a.removeChild(a.getElementsByTagName("input")[0]),e.isEdit=1})}}}},a=0;a<this.editableTabs.length;a++){var s=i(a);if("object"===(void 0===s?"undefined":_()(s)))return s.v}}),ct()(Rt,"pushIntoMenuData",function(t){console.log(t,"./...294"),this.setMenuData(t)}),ct()(Rt,"receive",function(t){console.log("90...",t),this.dialogFormVisible=t}),ct()(Rt,"openNewButton",function(){this.dialogFormVisible=!0}),ct()(Rt,"addUrlRelPath",function(t){return t.url_rel_path="/sec_page/600548",t}),ct()(Rt,"loadCatalogue",function(){var t=this;this.$axios.get(this.EDIT+"/edit_catalogue",{params:{user_id:$("user").id}}).then(function(e){t.setMenuData(e.data),t.showNewCompent=!0})}),ct()(Rt,"loadCataloguePromise",function(){var t=this,e=$("user");return e?new m.a(function(i,a){i(t.$axios.get(t.EDIT+"/edit_catalogue",{params:{user_id:e.id}}))}):(this.$message({message:"您还没有登录哦~",type:"error"}),V("user"),void this.$router.push({path:"/login"}))}),ct()(Rt,"loadSheetData",function(t){var e=this;return new m.a(function(i,a){console.log("item",t.sheet),e.$axios.get(e.EDIT+"/edit_find",{params:{id:t.sheet.id}}).then(function(a){t.sheet.data=JSON.parse(a.data.sheet_details),e.options=JSON.parse(a.data.sheet_options),t.sheet.styles=JSON.parse(a.data.sheet_styles);var s=document.getElementById("x-spreadsheet-demo"),n=document.getElementsByClassName("x-spreadsheet")[0];void 0!==s&&void 0!==n&&s.removeChild(n),i(t)})})}),ct()(Rt,"tabClick",function(){3==this.isEdit&&this.editableTabsValue==this.editTabsValue?this.isEdit=2:3==this.isEdit&&this.editableTabsValue!=this.editTabsValue&&(this.isEdit=4);for(var t=0;t<this.editableTabs.length;t++)this.editableTabs[t].name==this.editableTabsValue&&(this.setActiveIndex("/home"+this.editableTabs[t].path),this.$router.push({path:"/home"+this.editableTabs[t].path}))}),ct()(Rt,"getmenuData",function(t,e){var i=this;t.forEach(function(t){t.childs?i.getmenuData(t.childs,e):t.entity.id==e&&(i.searchValue=t.entity)})}),ct()(Rt,"getmenuDataIndex",function(t,e){var i=this;t.forEach(function(t){t.childs?i.getmenuDataIndex(t.childs,e):"/home"+t.entity.path==e&&(i.searchIndex=t.entity)})}),ct()(Rt,"create_route_b",function(t,e,i){var a=this;t.forEach(function(t){if(t.childs)a.create_route_b(t.childs,e,i);else{console.log(t.entity);var s=t.entity,n=s.type,o=s.sheet.editor;if(1===n){var l=z(a,{path:i+t.entity.path+"",id:t.entity.sheet_id,id2:t.entity.id,name:t.entity.alias,editor:o});e.push(l)}else if(3==n){var r=B(a,{path:i+t.entity.path+"",id:t.entity.sheet_id,id2:t.entity.id,name:t.entity.alias,editor:o});e.push(r)}}})}),ct()(Rt,"findIndex",function(){}),ct()(Rt,"rightShow",function(t,e){}),ct()(Rt,"saveRecentlyFile",function(t){var e={user_id:$("user").id,file_id:t};X(this.$axios,this.EDIT,e)}),ct()(Rt,"open",function(t,e){this.getmenuDataIndex(this.menuData,t),t=this.searchIndex.id+"",this.getmenuData(this.menuData,t);var i=this.searchValue,a=this.isHavaShowTab(t);if(this.saveRecentlyFile(t),-1==a){this.openSheet.length;this.len=this.len+1,this.editableTabs.push({title:i.alias,name:t,id:t,path:i.path}),this.editableTabsValue=this.isHavaShowTab(t)+"",this.closeOpenSheetShow()}else this.closeOpenSheetShow(),this.editableTabsValue=a+"",this.openSheetShow(i.name)}),ct()(Rt,"openSheetShow",function(t){for(var e=0;e<this.openSheet.length;e++)this.openSheet[e].name==t&&(this.openSheet[e].sheet.show=!0)}),ct()(Rt,"openSheetShowId",function(t){for(var e=0;e<this.openSheet.length;e++)this.openSheet[e].id==t&&(this.openSheet[e].sheet.show=!0)}),ct()(Rt,"closeOpenSheetShow",function(){for(var t=0;t<this.openSheet.length;t++)this.openSheet[t].sheet.show=!1}),ct()(Rt,"getTabIndex",function(t){console.log("437",t,this.editableTabs);for(var e=0;e<this.editableTabs.length;e++)if(this.editableTabs[e].id===t)return e;return-1}),ct()(Rt,"isHavaShowTab",function(t){console.log("372: ",t);for(var e=0;e<this.editableTabs.length;e++)if(this.editableTabs[e].id===t)return this.editableTabs[e].name;return-1}),ct()(Rt,"handleOpen",function(t,e){console.log(t,e)}),ct()(Rt,"handleClose",function(t,e){console.log(t,e)}),Rt))},Ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contain",staticStyle:{width:"100%",height:"100%",overflow:"hidden"},on:{click:t.hideInput}},[1==t.showNewCompent?i("create",{attrs:{self:this,navMenus:t.menuData,dialogFormVisible:t.dialogFormVisible},on:{create:t.pushIntoMenuData,receive:t.receive}}):t._e(),t._v(" "),i("el-row",{staticClass:"tac",staticStyle:{height:"100%",width:"100%"}},[i("el-col",{staticStyle:{height:"100%",width:"280px",background:"#FBFBFB"},attrs:{span:4}},[i("el-scrollbar",{staticClass:"el-cala",staticStyle:{height:"100%"}},[i("div",[i("views",{on:{loadCatalogueData:t.loadCatalogueData}}),t._v(" "),i("el-button",{staticStyle:{margin:"12px"},attrs:{icon:"el-icon-plus",round:""},on:{click:t.openNewButton}},[t._v("New")])],1)])],1),t._v(" "),i("el-col",{staticStyle:{position:"absolute",left:"280px",top:"0px",height:"100%"},attrs:{span:20}},[i("sheet")],1)],1)],1)},staticRenderFns:[]};var Bt=i("VU/8")(zt,Ot,!1,function(t){i("dURi")},null,null).exports;function Wt(t,e,i){var a=i.user_id;return t.post(e+"/userapp",{user_id:a})}var qt={props:["menu"],data:function(){return{activeIndex:"1"}},mounted:function(){this.menu.length>0&&(this.activeIndex=this.menu[0].id+"",console.log(this.menu,"26"))},methods:{findApp:function(t){for(var e in this.menu)if(this.menu[e].id==t)return this.menu[e];return null},openapp:function(t,e){var i,a,s,n,o,l=this.findApp(t);this.$emit("openiframe",l.app_url),i=this.$axios,a=this.EDIT,s={user_id:$("user").id,app_id:l.id},n=s.user_id,o=s.app_id,i.post(a+"/userapp_insert",{user_id:n,app_id:o})}}},Lt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"5px",background:"#FBFBFB"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex,"background-color":"#FBFBFB"},on:{select:t.openapp}},t._l(t.menu,function(e){return i("div",[i("el-menu-item",{attrs:{index:e.id+""}},[i("img",{staticStyle:{height:"24px",width:"24px"},attrs:{src:e.app_headimage}}),i("span",{staticStyle:{position:"relative",top:"1px","margin-left":"5px"}},[t._v(t._s(e.app_name))])])],1)}),0)],1)},staticRenderFns:[]};var Ut={methods:{handler:function(t){this.change=t},openiframe:function(t){this.$emit("openiframe",t)}},mounted:function(){var t=this;this.loading=!0,Wt(this.$axios,this.EDIT,{user_id:$("user").id}).then(function(e){t.menu=e.data.data,t.loading=!1})},watch:{value:function(){var t=this;""==this.value?(clearTimeout(this.timer),this.timer=setTimeout(function(){t.loading=!0,Wt(t.$axios,t.EDIT,{user_id:$("user").id}).then(function(e){t.menu=e.data.data,t.loading=!1})},300)):(clearTimeout(this.timer),this.timer=setTimeout(function(){var e,i,a,s;t.loading=!0,(e=t.$axios,i=t.EDIT,a={input:t.value},s=a.input,e.post(i+"/minapp_all",{input:s})).then(function(e){t.menu=e.data.data,t.loading=!1})},300))}},components:{App:i("VU/8")(qt,Lt,!1,function(t){i("hMj+")},null,null).exports},data:function(){return{change:1,value:"",timer:null,asrc:"http://180.169.75.199:5007/s/",menu:[],loading:!1}}},Pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticStyle:{"margin-left":"20px","margin-top":"10px",display:"inline-block","letter-spacing":"1px","margin-bottom":"5px"}},[i("span",{on:{click:function(e){return t.handler(1)}}},[1==t.change?i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"18px",color:"#0EAA10","text-decoration":"underline"},attrs:{"data-tooltip":"应用"}},[t._v("应用")]):i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"18px"},attrs:{"data-tooltip":"应用"}},[t._v("应用")])]),t._v(" "),i("span",{on:{click:function(e){return t.handler(2)}}},[2==t.change?i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"18px",color:"#0EAA10","text-decoration":"underline"},attrs:{"data-tooltip":"详情"}},[t._v("详情")]):i("span",{staticClass:"hover-tip",staticStyle:{"font-size":"18px"},attrs:{"data-tooltip":"详情"}},[t._v("详情")])])]),t._v(" "),i("div",{staticStyle:{padding:"5px"}},[i("el-input",{attrs:{"prefix-icon":"el-icon-search",clearable:"",placeholder:"搜索"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),i("div",{attrs:{"v-loading":t.loading,"element-loading-spinner":"el-icon-loading"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.change,expression:"change == 1"}]},[i("app",{attrs:{menu:t.menu},on:{openiframe:t.openiframe}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.change,expression:"change == 2"}]},[t._v("\n        敬请期待\n      ")])])])])},staticRenderFns:[]};var Ht={components:{Views:i("VU/8")(Ut,Pt,!1,function(t){i("ujnq")},"data-v-37418399",null).exports},data:function(){return{asrc:"http://180.169.75.199:5007/s/"}},methods:{openiframe:function(t){console.log("33",t);var e=document.getElementById("myIframe").contentWindow;t.indexOf("192.168.31.9:8023")&&(console.log(""!=$("user").name&&$("user").name?$("user").name:$("user").nickname,"38",$("user").nickname),e.postMessage(g()({id:""!=$("user").name&&$("user").name?$("user").name:$("user").nickname}),"http://192.168.31.9:8023")),this.asrc=t}}},Jt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contain",staticStyle:{width:"100%",height:"100%",overflow:"hidden"}},[e("el-row",{staticClass:"tac",staticStyle:{height:"100%",width:"100%"}},[e("el-col",{staticStyle:{height:"100%",width:"280px",background:"#FBFBFB"},attrs:{span:4}},[e("el-scrollbar",{staticClass:"el-cala",staticStyle:{height:"100%"}},[e("div",[e("views",{on:{openiframe:this.openiframe}})],1)])],1),this._v(" "),e("el-col",{staticStyle:{position:"absolute",left:"280px",height:"100%"},attrs:{span:20}},[e("iframe",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"myIframe",frameborder:"0",src:this.asrc}})])],1)],1)},staticRenderFns:[]},Yt={name:"home",mounted:function(){var t=this;this.style.width=document.body.clientWidth+"px",this.my_style.width=document.body.clientWidth-68+"px",console.log(document.body.clientWidth),window.onresize=function(){console.log("..."),window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}},watch:{screenWidth:function(t){console.log(39),this.screenWidth=t,this.style.width=t+"px",this.my_style.width=t-68+"px"}},components:{Content:at,Aside:rt,FileExplore:Bt,MinApp:i("VU/8")(Ht,Jt,!1,null,null,null).exports},methods:{changeType:function(t){this.panneId=t}},data:function(){return{style:{height:"100%",width:"0px"},screenWidth:document.body.clientWidth,my_style:{width:document.body.clientWidth,height:"100%",position:"absolute",left:"68px",top:"0px"},panneId:1}}},Xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"home"}},[e("el-row",{style:this.style},[e("el-col",{staticStyle:{height:"100%",width:"68px"},attrs:{span:1}},[e("Aside",{on:{changeType:this.changeType}})],1),this._v(" "),e("el-col",{style:this.my_style,attrs:{span:23}},[1==this.panneId?e("div",{staticStyle:{height:"100%"}},[e("file-explore")],1):2==this.panneId?e("div",{staticStyle:{height:"100%"}},[e("min-app")],1):this._e()])],1)],1)},staticRenderFns:[]};var Gt=i("VU/8")(Yt,Xt,!1,function(t){i("DPn5")},"data-v-019f31c8",null).exports,Zt={methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},Qt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("el-row",{staticClass:"tac",staticStyle:{height:"100%",width:"100%"}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:4}},[i("el-scrollbar",{staticClass:"el-cala",staticStyle:{height:"100%"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:t.handleOpen,close:t.handleClose}},[i("el-menu-item",{attrs:{index:"2"}},[i("i",{staticClass:"el-icon-menu"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("导航二")])]),t._v(" "),i("el-menu-item",{attrs:{index:"3"}},[i("i",{staticClass:"el-icon-document"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[i("el-row",{staticClass:"tac",staticStyle:{height:"100%",width:"100%",display:"inline-block","min-width":"300px"}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:18}},[i("span",[t._v("导航三")])]),t._v(" "),i("el-col",{staticStyle:{height:"100%"},attrs:{span:4}},[i("span",[t._v("18:20")])])],1)],1)])],1)],1)],1),t._v(" "),i("el-col",{staticStyle:{position:"absolute",left:"280px"},attrs:{span:20}})],1)],1)},staticRenderFns:[]};var Kt=i("VU/8")(Zt,Qt,!1,function(t){i("hV7J")},"data-v-1ea927c8",null).exports;var te={beforeMount:function(){var t,e,i,a;this.$route.query.code||window.close(),(t=this.$axios,e=this.EDIT,i={code:this.$route.query.code},a=i.code,t.post(e+"/wx/login",{code:a})).then(function(t){j("user",t.data.data),I(t.data.data.nickname),window.close()})},computed:w()({},Object(Y.b)(["wxwindow"]))},ee={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  请稍后。。。\n")])},staticRenderFns:[]};var ie=i("VU/8")(te,ee,!1,function(t){i("28fQ")},"data-v-6df190b0",null).exports;var ae={mounted:function(){var t=$("user");this.login=!!t,this.initRequest()},data:function(){return{user_name:"",alias:"",sheet_id:-1,redirect:"",like:0,save:0,look:0,login:!1,id:-1,isLike:!1,isLook:!1,isSave:!1,sheet_path:"",load:!1,user_id:-1,lookInfo:"查看",saveInfo:"复制"}},methods:{lookEvent:function(){var t,e,i,a,s,n=this;if(this.login){if(this.user_id===$("user").id)return console.log("175",this.sheet_path),void this.$router.push({path:""+R+this.sheet_path});(t=this.$axios,e=this.EDIT,i={user_id:$("user").id,_id:this.id},a=i._id,s=i.user_id,t.post(e+"/edit_share/look",{id:a,user_id:s})).then(function(t){var e=t.data,i=e.look,a=e.look_url;n.look=i,n.lookInfo="已查看",le[1].children=[],n.$router.push({path:R+a})})}else this.$router.push({path:"/login",query:{redirect:this.$route.path}})},likeEvent:function(){var t,e,i,a,s,n,o=this;this.login?(t=this.$axios,e=this.EDIT,i={user_id:$("user").id,_id:this.id,cancel:!this.isLike},a=i._id,s=i.user_id,n=i.cancel,t.post(e+"/edit_share/like",{id:a,user_id:s,cancel:n})).then(function(t){o.isLike=t.data.like,o.like=t.data.number}):this.$router.push({path:"/login",query:{redirect:this.$route.path}})},saveEvent:function(){var t,e,i,a,s,n=this;if(this.login){if(this.user_id===$("user").id)return void this.$router.push({path:""+R+this.sheet_path});(t=this.$axios,e=this.EDIT,i={user_id:$("user").id,_id:this.id},a=i._id,s=i.user_id,t.post(e+"/edit_share/save",{id:a,user_id:s})).then(function(t){var e=t.data,i=e.save,a=e.save_url;n.save=i,n.saveInfo="已复制",le[1].children=[],n.$router.push({path:R+a})})}else this.$router.push({path:"/login",query:{redirect:this.$route.path}})},initRequest:function(){var t,e,i,a,s,n=this,o=this.$route.query.redirect;o||(o=this.$route.path),(t=this.$axios,e=this.EDIT,i={url:o.replace("/share/",""),user_id:this.login?$("user").id:-1},a=i.url,s=i.user_id,t.post(e+"/edit_share_url",{url:a,user_id:s})).then(function(t){if(t.data.state){var e=t.data,i=e.user_name,a=e.alias,s=e.sheet_id,l=e.like,r=e.look,d=e.save,c=e.id,h=e.isLike,u=e.isLook,p=e.isSave,f=e.user_id,m=e.sheet_path;n.user_name=i,n.alias=a,n.sheet_id=s,n.redirect=o,n.like=l,n.look=r,n.user_id=f,n.id=c,n.save=d,n.sheet_path=m,n.isLike=h,n.isLook=u,n.isSave=p,n.load=!0,n.initReadMe(),n.saveInfo=n.isSave?"已复制":"复制",n.lookInfo=n.isLook?"已查看":"查看"}else{var v=t.data.message;n.$message({message:v,type:"warning"}),n.$router.push({path:"/home"})}})},initReadMe:function(){var t=[],e=[];t.push(le[3]);var i=B(null,{path:this.redirect,id:this.sheet_id,name:"xxx"},{theme:"bubble",placeholder:"暂无内容",readOnly:!0,modules:{toolbar:[]}},this.user_id);e.push(i),t[0].children=e,this.$router.addRoutes(t),console.log(le),this.$router.push({path:this.redirect})}}},se={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{"max-width":"1012px",margin:"0 auto"}},[i("div",{staticStyle:{"padding-top":"24px","padding-bottom":"24px"}},[i("div",{staticStyle:{position:"relative",top:"5px",display:"inline-block"}},[i("i",{staticClass:"el-icon-tickets"}),t._v("\n          "+t._s(t.user_name)+"\n          "),i("span",{staticStyle:{margin:"0 .25em"}},[t._v("\n\t\t\t\t\t\t/\n\t\t\t\t\t")]),t._v("\n          "+t._s(t.alias)+"\n        ")]),t._v(" "),t.load?i("div",{staticStyle:{float:"right"}},[i("div",{staticStyle:{margin:"0 10px 0 0",display:"inline-block"}},[t.login?i("span",[i("span",{staticClass:"btn btn-sm btn-with-count",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},on:{click:t.lookEvent}},[i("svg",{staticClass:"csvg octicon octicon-eye v-align-text-bottom",attrs:{viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"}})]),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.lookInfo)+"\n\t\t\t\t\t\t\t")])]):i("span",[i("span",{staticClass:"btn btn-sm btn-with-count d-hover",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},attrs:{"data-tooltip":"你必须要登录才能继续"},on:{click:t.lookEvent}},[i("svg",{staticClass:"csvg octicon octicon-eye v-align-text-bottom",attrs:{viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"}})]),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.lookInfo)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("span",{staticClass:"social-count"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.look)+"\n\t\t\t\t\t\t")])]),t._v(" "),i("div",{staticStyle:{margin:"0 10px 0 0",display:"inline-block"}},[t.login?i("span",[t.isLike?i("span",[i("span",{staticClass:"btn btn-sm btn-with-count",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},on:{click:t.likeEvent}},[i("svg",{staticClass:"csvg octicon octicon-star v-align-text-bottom",attrs:{viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"}})]),t._v("\n\t\t\t\t\t\t\t\t已点赞\n\t\t\t\t\t\t\t")])]):i("span",[i("span",{staticClass:"btn btn-sm btn-with-count",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},on:{click:t.likeEvent}},[i("svg",{staticClass:"csvg octicon octicon-star v-align-text-bottom",attrs:{viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"}})]),t._v("\n\t\t\t\t\t\t\t\t点赞\n\t\t\t\t\t\t\t")])])]):i("span",[i("span",{staticClass:"btn btn-sm btn-with-count  d-hover",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},attrs:{"data-tooltip":"你必须要登录才能继续"},on:{click:t.likeEvent}},[i("svg",{staticClass:"csvg octicon octicon-star v-align-text-bottom",attrs:{viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"}})]),t._v("\n\t\t\t\t\t\t\t\t点赞\n\t\t\t\t\t\t\t")])]),t._v(" "),i("span",{staticClass:"social-count"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.like)+"\n\t\t\t\t\t\t")])]),t._v(" "),i("div",{staticStyle:{margin:"0 10px 0 0",display:"inline-block"}},[t.login?i("span",[i("span",{staticClass:"btn btn-sm btn-with-count",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},on:{click:t.saveEvent}},[i("svg",{staticClass:"csvg octicon octicon-repo-forked v-align-text-bottom",attrs:{viewBox:"0 0 10 16",version:"1.1",width:"10",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}})]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.saveInfo)+"\n\t\t\t\t\t\t\t")])]):i("span",[i("span",{staticClass:"btn btn-sm btn-with-count d-hover",staticStyle:{float:"left","background-color":"#eff3f6","background-image":"linear-gradient(-180deg,#fafbfc,#eff3f6 90%)"},attrs:{"data-tooltip":"你必须要登录才能继续"},on:{click:t.saveEvent}},[i("svg",{staticClass:"csvg octicon octicon-repo-forked v-align-text-bottom",attrs:{viewBox:"0 0 10 16",version:"1.1",width:"10",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}})]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.saveInfo)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("span",{staticClass:"social-count"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.save)+"\n\t\t\t\t\t\t")])])]):t._e()]),t._v(" "),i("div",{staticClass:"Box",staticStyle:{"margin-top":"20px","margin-bottom":"100px"}},[i("div",{staticClass:"Box-header"},[i("div",{staticClass:"jieshao"},[i("svg",{staticClass:"octicon octicon-book",attrs:{viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd",d:"M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"}})])]),t._v("\n          介绍\n        ")]),t._v(" "),i("router-view")],1)])])},staticRenderFns:[]};var ne=i("VU/8")(ae,se,!1,function(t){i("YdDj")},"data-v-2c7dc8f2",null).exports;s.default.use(l.a);var oe,le=[{path:"/login",component:it},{path:"/home",component:Gt,children:[]},{path:"/document",component:Kt},{path:"/share",component:ne,children:[]},{path:"/weixincallback",component:ie}],re=new l.a({mode:"history",base:"sheetapp",routes:le}),de=i("mtWM"),ce=i.n(de),he=i("mUbh"),ue=function(t){return t.active_index},pe=function(t){return t.entity},fe=function(t){return t.menuData},me=function(t){return t.wxwindow},ve=function(t){return t.sheet},ge=function(t){return t.xs},be={active_index:"",entity:{},menuData:[],wxwindow:null,sheet:null,xs:null},_e=(i("mw3O"),oe={},ct()(oe,"SET_ACTIVE_INDEX",function(t,e){t.active_index=e}),ct()(oe,"SET_ENTITY",function(t,e){t.entity=e}),ct()(oe,"SET_MENU_DATA",function(t,e){t.menuData=e}),ct()(oe,"SET_WX_WINDOW",function(t,e){t.wxwindow=e}),ct()(oe,"SET_SHEET",function(t,e){t.sheet=e}),ct()(oe,"SET_XS",function(t,e){t.xs=e}),oe);s.default.use(Y.a);var ye=new Y.a.Store({action:he,getters:a,state:be,mutations:_e}),xe=(i("tvR6"),i("zL8q")),we=i.n(xe),Te=i("8ZKb"),ke=i.n(Te),Ee=(i("AmOA"),{name:"edit",components:{Edit:Fe}}),De={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("Edit",{attrs:{sheet_id:this.id},on:{loadCatalogueData:this.loadCatalogueData}})],1)],1)},staticRenderFns:[]};var Fe=i("VU/8")(Ee,De,!1,function(t){i("5gPk")},"data-v-02cd9085",null).exports,Se={install:function(t){t.component("edit",Fe)}};s.default.use(Se),s.default.use(ke.a),s.default.config.productionTip=!1,s.default.prototype.HOST="/api",s.default.prototype.EDIT="http://192.168.31.9:5018/edit",s.default.prototype.$axios=ce.a,s.default.use(we.a),re.beforeEach(function(t,e,i){$("user")||-1!==t.path.indexOf("share")?"/weixincallback"==t.path?i("/home"):"/login"==t.path?i("/home"):"/share"===t.path?i():-1!==t.path.indexOf("/share/")&&le[3].children.length<=0?i({path:"/share",query:{redirect:t.fullPath}}):"/home"!=t.path&&-1===t.path.indexOf("/share/")&&"/document"!=t.path&&le[1].children.length<=0?(i({path:"/home",query:{redirect:t.fullPath}}),ye.commit("SET_ACTIVE_INDEX",t.fullPath)):i():"/weixincallback"==t.path?(t.query&&(j("user",t.query),I(t.query.nickname)),window.close()):"/login"==t.path?i():i("/login")}),new s.default({el:"#app",router:re,store:ye,components:{App:o},template:"<App/>"})},NpWd:function(t,e){},O1fU:function(t,e){},Ptiv:function(t,e){},"VA+r":function(t,e,i){var a={"./af":"6ZrW","./af.js":"6ZrW","./ar":"RmQA","./ar-dz":"1EiH","./ar-dz.js":"1EiH","./ar-kw":"o1xi","./ar-kw.js":"o1xi","./ar-ly":"VH9i","./ar-ly.js":"VH9i","./ar-ma":"bN8b","./ar-ma.js":"bN8b","./ar-sa":"Ek8S","./ar-sa.js":"Ek8S","./ar-tn":"4C3o","./ar-tn.js":"4C3o","./ar.js":"RmQA","./az":"DpVD","./az.js":"DpVD","./be":"H5RC","./be.js":"H5RC","./bg":"Fkgy","./bg.js":"Fkgy","./bm":"m9mA","./bm.js":"m9mA","./bn":"aEgC","./bn.js":"aEgC","./bo":"86ww","./bo.js":"86ww","./br":"Yo2s","./br.js":"Yo2s","./bs":"kPUm","./bs.js":"kPUm","./ca":"mTVA","./ca.js":"mTVA","./cs":"ecyn","./cs.js":"ecyn","./cv":"hffo","./cv.js":"hffo","./cy":"4XgZ","./cy.js":"4XgZ","./da":"0h/W","./da.js":"0h/W","./de":"oh14","./de-at":"qeRs","./de-at.js":"qeRs","./de-ch":"AlF8","./de-ch.js":"AlF8","./de.js":"oh14","./dv":"Cp1e","./dv.js":"Cp1e","./el":"b9Cn","./el.js":"b9Cn","./en-SG":"uSU9","./en-SG.js":"uSU9","./en-au":"P3wJ","./en-au.js":"P3wJ","./en-ca":"zWe9","./en-ca.js":"zWe9","./en-gb":"86Z2","./en-gb.js":"86Z2","./en-ie":"gf2b","./en-ie.js":"gf2b","./en-il":"HYEC","./en-il.js":"HYEC","./en-nz":"Vm4Y","./en-nz.js":"Vm4Y","./eo":"1W6j","./eo.js":"1W6j","./es":"NvLc","./es-do":"W5Ft","./es-do.js":"W5Ft","./es-us":"RbDP","./es-us.js":"RbDP","./es.js":"NvLc","./et":"oLdH","./et.js":"oLdH","./eu":"p+QN","./eu.js":"p+QN","./fa":"VMmP","./fa.js":"VMmP","./fi":"NnrT","./fi.js":"NnrT","./fo":"eG0F","./fo.js":"eG0F","./fr":"rSnx","./fr-ca":"pEZo","./fr-ca.js":"pEZo","./fr-ch":"B6C9","./fr-ch.js":"B6C9","./fr.js":"rSnx","./fy":"IYPA","./fy.js":"IYPA","./ga":"4OHW","./ga.js":"4OHW","./gd":"aCLn","./gd.js":"aCLn","./gl":"zCNy","./gl.js":"zCNy","./gom-latn":"qW3N","./gom-latn.js":"qW3N","./gu":"Ggnp","./gu.js":"Ggnp","./he":"Vl8J","./he.js":"Vl8J","./hi":"Qbjm","./hi.js":"Qbjm","./hr":"W74w","./hr.js":"W74w","./hu":"WkEu","./hu.js":"WkEu","./hy-am":"y+40","./hy-am.js":"y+40","./id":"1h+9","./id.js":"1h+9","./is":"g3cD","./is.js":"g3cD","./it":"A0tz","./it-ch":"u/iD","./it-ch.js":"u/iD","./it.js":"A0tz","./ja":"78qV","./ja.js":"78qV","./jv":"LjSt","./jv.js":"LjSt","./ka":"UBG9","./ka.js":"UBG9","./kk":"BY1y","./kk.js":"BY1y","./km":"AZz1","./km.js":"AZz1","./kn":"k2dI","./kn.js":"k2dI","./ko":"YMtD","./ko.js":"YMtD","./ku":"/d0I","./ku.js":"/d0I","./ky":"6ykq","./ky.js":"6ykq","./lb":"9Bzk","./lb.js":"9Bzk","./lo":"8BYA","./lo.js":"8BYA","./lt":"sF79","./lt.js":"sF79","./lv":"dAsj","./lv.js":"dAsj","./me":"u0ew","./me.js":"u0ew","./mi":"MmYS","./mi.js":"MmYS","./mk":"UHZe","./mk.js":"UHZe","./ml":"ROkm","./ml.js":"ROkm","./mn":"6UTn","./mn.js":"6UTn","./mr":"A6qv","./mr.js":"A6qv","./ms":"Z3hj","./ms-my":"0dqI","./ms-my.js":"0dqI","./ms.js":"Z3hj","./mt":"+XKl","./mt.js":"+XKl","./my":"L+L5","./my.js":"L+L5","./nb":"ti29","./nb.js":"ti29","./ne":"/2RG","./ne.js":"/2RG","./nl":"Aj+E","./nl-be":"P1B+","./nl-be.js":"P1B+","./nl.js":"Aj+E","./nn":"7JX9","./nn.js":"7JX9","./pa-in":"ZjV6","./pa-in.js":"ZjV6","./pl":"fUnu","./pl.js":"fUnu","./pt":"AAPT","./pt-br":"/4Rv","./pt-br.js":"/4Rv","./pt.js":"AAPT","./ro":"0oRA","./ro.js":"0oRA","./ru":"fiWa","./ru.js":"fiWa","./sd":"975r","./sd.js":"975r","./se":"FK2W","./se.js":"FK2W","./si":"7CG4","./si.js":"7CG4","./sk":"B9wi","./sk.js":"B9wi","./sl":"Ttb1","./sl.js":"Ttb1","./sq":"HBKm","./sq.js":"HBKm","./sr":"3yN6","./sr-cyrl":"rnIp","./sr-cyrl.js":"rnIp","./sr.js":"3yN6","./ss":"vd2D","./ss.js":"vd2D","./sv":"9FqW","./sv.js":"9FqW","./sw":"LStr","./sw.js":"LStr","./ta":"ohcT","./ta.js":"ohcT","./te":"5BaV","./te.js":"5BaV","./tet":"waBc","./tet.js":"waBc","./tg":"Gz6R","./tg.js":"Gz6R","./th":"wQVT","./th.js":"wQVT","./tl-ph":"I8J0","./tl-ph.js":"I8J0","./tlh":"EfhP","./tlh.js":"EfhP","./tr":"D+iX","./tr.js":"D+iX","./tzl":"u3jg","./tzl.js":"u3jg","./tzm":"7l7f","./tzm-latn":"SHGn","./tzm-latn.js":"SHGn","./tzm.js":"7l7f","./ug-cn":"Le/T","./ug-cn.js":"Le/T","./uk":"HEcC","./uk.js":"HEcC","./ur":"CUNM","./ur.js":"CUNM","./uz":"l/NJ","./uz-latn":"wCBe","./uz-latn.js":"wCBe","./uz.js":"l/NJ","./vi":"oxnO","./vi.js":"oxnO","./x-pseudo":"nJqJ","./x-pseudo.js":"nJqJ","./yo":"2Uap","./yo.js":"2Uap","./zh-cn":"wqF2","./zh-cn.js":"wqF2","./zh-hk":"Ow3o","./zh-hk.js":"Ow3o","./zh-tw":"6Hsa","./zh-tw.js":"6Hsa"};function s(t){return i(n(t))}function n(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="VA+r"},YdDj:function(t,e){},aeOx:function(t,e){},d94x:function(t,e){},dURi:function(t,e){},"hMj+":function(t,e){},hV7J:function(t,e){},halR:function(t,e){},i8js:function(t,e){},iIkd:function(t,e){},kMji:function(t,e){},l6iO:function(t,e){},mUbh:function(t,e){},rDx2:function(t,e){},tvR6:function(t,e){},ujnq:function(t,e){},woU2:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9db4ca0d717ec4089171.js.map
